{#
  CARDGROUP COMPONENT
#}

{% if cardcount == "one" %}
  {% set cards = 1 %}
{% elseif cardcount == "two" %}
   {% set cards = 2 %}
{% elseif cardcount == "three" %}
   {% set cards = 3 %}
{% elseif cardcount == "four" %}
   {% set cards = 4 %}
{% endif %}

<div class="{{prefix}}--cardgroup {{prefix}}--cardgroup__count__{{cardcount}} {% if collapsed %} {{prefix}}--cardgroup__collapsed {% endif %} {% if justify %} {{prefix}}--cardgroup__justify__{{justify}} {% endif %} {% if expandorphans %} {{prefix}}--cardgroup__expand-orphans {% endif %}">
  <div class="{{prefix}}--cardgroup--inner">
    {% for card in group %}
      <div class="{{prefix}}--cardgroup--card {% if expandorphans and loop.last and loop.index % cards == 1 %} {{prefix}}--cardgroup--card__expand-orphan {% endif %}">
        {% include "@components/card/card.twig" with {
          size: "fluid",
          theme: theme,
          type: type,
          cta: card.cta,
          dataset: card.dataset,
          date: card.date,
          dateExtra: card.dateExtra,
          eyebrow: card.eyebrow,
          image: card.image,
          intro: card.intro,
          link: card.link,
          linklist: card.linklist,
          list: card.list,
          title: card.title,
          alignment: card.alignment,
          color: card.color,
          cornercut: card.cornercut,
          source: card.source,
          prefix: prefix
        } only %}
      </div>
      {% endfor %}
    {% if cta %}
    <div class="{{prefix}}--cardgroup--button-wrap">
      <a
        class="{{prefix}}--button {{prefix}}--button--medium {{prefix}}--button--secondary"
        href="{{cta.url}}"
      >
        <span class="button__label">{{ cta.label }}</span>
      </a>
    </div>
    {% endif %}
  </div>
</div>
