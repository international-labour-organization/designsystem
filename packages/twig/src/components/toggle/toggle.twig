{# toggle.twig #}

{% extends "@components/form/formcontrol.twig" %}

{# Define the default values, these values can be overridden when the template is included or extended. #}
{% set size = size|default("medium") %}
{% set error = error|default(false) %}
{% set disabled = disabled|default(false) %}
{% set defaultChecked = defaultChecked|default(false) %}
{% set required = required|default(false) %}
{% set name = name|default("toggle") %}
{% set id = id|default(name) %}
{% set ariaDescribedBy = ariaDescribedBy|default("") %}

{# Calculate dynamic classes based on the passed values. #}
{% set baseClass = prefix ~ "--input--toggle" %}
{% set sliderClass = baseClass ~ "--slider" %}
{% set toggleClass = [baseClass, class, baseClass ~ "__size__" ~ size] %}

{% if not disabled and error %}
	{% set toggleClass = toggleClass|merge([baseClass ~ "__error"]) %}
{% endif %}
{% if disabled %}
	{% set toggleClass = toggleClass|merge([baseClass ~ "__disabled"]) %}
{% endif %}

{% block formfield %}

	<div class="{{ toggleClass|join(" ") }}">
		<input {% if defaultchecked %} defaultchecked {% endif %} {% if required %} required {% endif %} {% if checked %} checked {% endif %} name="{{ name }}" id="{{ id }}" type="checkbox" role="switch" aria-describedby="{{ ariaDescribedBy }}"/>


		<span class="{{ sliderClass }}"/>
	</div>

{% endblock %}
