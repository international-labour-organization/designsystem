<div class="{{prefix}}--lightbox-gallery" data-lightbox-gallery>
	<div class="{{prefix}}--lightbox-gallery__core">
		<div class="{{prefix}}--lightbox-gallery__core__viewport" data-embla-lightbox-viewport tabindex="0">
			<div class="{{prefix}}--lightbox-gallery__core__container">
				{% for item in items %}
					<div class="{{prefix}}--lightbox-gallery__core__slide">
						<figure class="{{prefix}}--lightbox-gallery__core__image-wrapper">
							<img src="{{item.src.lightbox|default(item.src)}}" alt="{{item.alt|default(item.credit|default('Photo ' ~ loop.index))}}"/>
							{% if item.credit %}
								<figcaption class="{{prefix}}--lightbox-gallery__core__image-wrapper-credit">
									<span class="{{prefix}}--lightbox-gallery__core__image-wrapper-credit-text">
										{{item.credit}}
									</span>
									<span class="{{prefix}}--lightbox-gallery__core__image-wrapper-credit-corner"></span>
								</figcaption>
							{% endif %}
						</figure>
					</div>
				{% endfor %}
			</div>
		</div>
	</div>

	<div
		class="{{prefix}}--lightbox-gallery__bar">
		{# Expandable caption (mobile) #}
		<div class="{{prefix}}--photo-gallery-expandable-caption {{prefix}}--lightbox-gallery__caption">
			<div class="{{prefix}}--photo-gallery-expandable-caption__preview">
				<p class="{{prefix}}--photo-gallery-expandable-caption__text" data-caption-text-mobile></p>
				<button class="{{prefix}}--photo-gallery-expandable-caption__toggle" data-action="expand-mobile-caption" aria-expanded="false" aria-label="Expand caption" type="button" hidden>
					{% include '@components/icon/icon.twig' with {
								name: 'chevron_up',
								size: '20'
						} %}
				</button>
			</div>
		</div>

		{# Extra info section #}
		<div class="{{prefix}}--lightbox-gallery__extra">
			<p class="{{prefix}}--lightbox-gallery__extra-text" data-lightbox-caption-text></p>
			<div class="{{prefix}}--lightbox-gallery__extra-controls">
				{% include '@components/photogallery/photogallery_controls.twig' with {
          prefix: prefix,
        } %}
			</div>
		</div>

		{# Thumbnails carousel in lightbox #}
		<div class="{{prefix}}--lightbox-gallery__thumbnails">
			<div class="{{prefix}}--lightbox-gallery__thumbnails__carousel" data-embla-lightbox-thumbs>
				<div class="{{prefix}}--lightbox-gallery__thumbnails__container">
					{% for item in items %}
						<div class="{{prefix}}--lightbox-gallery__thumbnails__slide">
							<button class="{{prefix}}--lightbox-gallery__thumbnails__image" data-lightbox-thumbnail-index="{{loop.index0}}" type="button">
								<img src="{{item.src.thumbnail|default(item.src)}}" alt="{{item.alt|default(item.credit|default('Thumbnail ' ~ loop.index))}}" loading="lazy"/>
							</button>
						</div>
					{% endfor %}
				</div>
			</div>
		</div>

		{# Controls at bottom #}
		<div class="{{prefix}}--lightbox-gallery__controls">
			{% include '@components/photogallery/photogallery_controls.twig' with {
					prefix: prefix,
				} %}
		</div>
	</div>
</div>
