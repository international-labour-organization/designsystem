@use "../tokens" as *;
@use "../functions" as *;
@import "../mixins";

.ilo--cardgroup {
  $c: &;
  --gap: 16px;

  &__collapsed {
    #{$c}--inner {
      gap: 0 !important;
    }
  }

  &__justify {
    &__start {
      #{$c}--inner {
        justify-content: flex-start;
      }
    }

    &__between {
      #{$c}--inner {
        justify-content: space-between;
      }
    }

    &__center {
      #{$c}--inner {
        justify-content: center;
      }
    }
  }

  &__count {
    @include breakpoint("large") {
      &__one {
        #{$c}--inner {
          --gap: 0;
        }

        #{$c}--card {
          flex: 1 1 100%;
        }
      }

      &__two {
        #{$c}--inner {
          --gap: 16px;
        }

        #{$c}--card {
          flex-basis: calc(50% - var(--gap));
        }
      }

      &__three {
        #{$c}--inner {
          --gap: 21px;
        }

        #{$c}--card {
          flex-basis: calc(33.3333% - var(--gap));
        }
      }

      &__four {
        #{$c}--inner {
          --gap: 24px;
        }

        #{$c}--card {
          flex-basis: calc(25% - var(--gap));
        }
      }
    }
  }

  &--card {
    @include breakpoint("large") {
      flex-grow: 0;
      flex-shrink: 1;

      &__expand-orphan {
        flex-grow: 1;

        #{$c}__justify__start & {
          padding-right: var(--gap);

          .right-to-left & {
            padding-right: 0;
            padding-left: var(--gap);
          }
        }

        #{$c}__justify__center & {
          padding: 0 calc(var(--gap) / 2);
        }

        #{$c}__justify__between & {
          padding: 0;
        }
      }
    }
  }

  &--inner {
    display: flex;
    flex-flow: row wrap;
    justify-content: center;
    margin: auto;
    width: 100%;
    gap: var(--gap);

    .right-to-left & {
      flex-direction: row-reverse;
    }
  }

  &--button-wrap {
    display: flex;
    justify-content: center;
    margin-top: px-to-rem(64px);
    width: 100%;
  }
}
