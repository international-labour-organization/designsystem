@use "../../tokens" as *;
@use "../../functions" as *;
@import "../../mixins";
@import "../../config";

.ilo--photo-gallery {
  --ilo-photo_gallery-target-height: 210px;
  background-color: var(--ilo-color-white);

  @include breakpoint("md") {
    --ilo-photo_gallery-target-height: 420px;
  }

  &__core {
    margin: auto;
    position: relative;

    &__viewport {
      overflow: hidden;
      width: 100%;
    }

    &__container {
      display: flex;
      touch-action: pan-y pinch-zoom;
      margin-left: calc(spacing(5) * -1);
    }

    &__slide {
      transform: translate3d(0, 0, 0);
      flex: 0 0 100%;
      min-width: 0;
      padding-left: spacing(5);
    }

    &__image {
      img {
        width: 100%;
        object-fit: contain;
        height: inherit;
        background-color: var(--ilo-color-gray-light);
        height: var(--ilo-photo_gallery-target-height);
      }

      &--contain {
        img {
          object-fit: contain;
        }
      }

      &--cover {
        img {
          object-fit: cover;
        }
      }

      &--fill {
        img {
          object-fit: fill;
        }
      }
    }

    &__controls {
      position: absolute;
      z-index: 2;
      right: spacing(4);
      bottom: calc(px-to-rem(35px) + px-to-rem(10px));
      visibility: hidden;
      opacity: 0;
      transition:
        opacity 0.2s ease-in-out,
        visibility 0.2s ease-in-out;

      [dir="rtl"] & {
        right: auto;
        left: spacing(4);
      }
    }

    &:hover &__controls {
      visibility: visible;
      opacity: 1;
    }
  }
}
